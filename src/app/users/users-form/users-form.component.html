<mat-card>
    <mat-card-title align="center" class="formHeading">
        {{!isInEditMode?"Add User":"Update User"}}
    </mat-card-title>
    <mat-card-content>
        <form [formGroup]="userForm" (ngSubmit)="onFormSubmit()">
            <div class="row">
                <!-- username -->
                <div class="col-md-12">
                    <div class="control">
                        <mat-icon>account_circle</mat-icon>
                        <mat-form-field>
                            <mat-label>Enter Username</mat-label>
                            <input type="text" matInput formControlName="userName">
                            <mat-error>
                                <ng-container
                                    *ngIf="control['userName'].touched && control['userName'].hasError('required')">
                                    username is required field!!! <br>
                                </ng-container>
                                <ng-container
                                    *ngIf="control['userName'].dirty && control['userName'].hasError('pattern')">
                                    username should not include numeric and special characters!!! <br>
                                </ng-container>
                                <ng-container
                                    *ngIf="control['userName'].dirty && control['userName'].hasError('minlength')">
                                    Minimum length of username should be
                                    {{control['userName'].errors?.['minlength'].requiredLength}}.
                                    Current length is {{control['userName'].errors?.['minlength'].actualLength}}.<br>
                                </ng-container>
                                <ng-container
                                    *ngIf="control['userName'].dirty && control['userName'].hasError('maxlength')">
                                    Maximum length of username should be
                                    {{control['userName'].errors?.['maxlength'].requiredLength}}.
                                    Current length is {{control['userName'].errors?.['maxlength'].actualLength}}.<br>
                                </ng-container>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <!-- email -->
                <div class="col-md-12">
                    <div class="control">
                        <mat-icon>alternate_email</mat-icon>
                        <mat-form-field>
                            <mat-label>Enter Email</mat-label>
                            <input type="text" matInput formControlName="userEmail">
                            <mat-error>
                                <ng-container
                                    *ngIf="control['userEmail'].touched && control['userEmail'].hasError('required')">
                                    Email is required field!!! <br>
                                </ng-container>
                                <ng-container
                                    *ngIf="control['userEmail'].dirty && control['userEmail'].hasError('pattern')">
                                    Invalid Email Pattern!!! <br>
                                </ng-container>

                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <!-- image Url -->
                <div class="col-md-12">
                    <div class="control">
                        <mat-icon>image</mat-icon>
                        <mat-form-field>
                            <mat-label>Enter Image URL</mat-label>
                            <input type="text" matInput formControlName="personImg">
                            <mat-error>
                                <ng-container
                                    *ngIf="control['personImg'].touched && control['personImg'].hasError('required')">
                                    Image URL is required field!!! <br>
                                </ng-container>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <!-- user role -->
                <div class="col-md-6">
                    <div class="control">
                        <mat-icon>admin_panel_settings</mat-icon>
                        <mat-form-field>
                            <mat-label>Select User-role</mat-label>
                            <mat-select formControlName="userRole">
                                <mat-option value="admin">Admin</mat-option>
                                <mat-option value="buyer">Buyer</mat-option>
                            </mat-select>
                            <mat-error>
                                <ng-container
                                    *ngIf="control['userRole'].touched && control['userRole'].hasError('required')">
                                    Please select user-role!!! <br>
                                </ng-container>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <!-- gender -->
                <div class="col-md-6">
                    <div class="control">
                        <mat-icon>wc</mat-icon>
                        <mat-form-field>
                            <mat-label>Select Gender</mat-label>
                            <mat-select formControlName="userGender">
                                <mat-option value="Male">Male</mat-option>
                                <mat-option value="Female">Female</mat-option>
                            </mat-select>
                            <mat-error>
                                <ng-container
                                    *ngIf="control['userGender'].touched && control['userGender'].hasError('required')">
                                    Please select gender!!! <br>
                                </ng-container>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <!-- age -->
                <div class="col-md-6">
                    <div class="control">
                        <mat-icon>badge</mat-icon>
                        <mat-form-field>
                            <mat-label>Select Age</mat-label>
                            <mat-select formControlName="userAge">
                                <mat-option *ngFor="let age of ageArr" [value]="age">{{age}}</mat-option>
                            </mat-select>
                            <mat-error>
                                <ng-container
                                    *ngIf="control['userAge'].touched && control['userAge'].hasError('required')">
                                    Please select Age!!! <br>
                                </ng-container>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <!-- details -->
                <div class="col-md-12">
                    <div class="control">
                        <mat-icon>info</mat-icon>
                        <mat-form-field>
                            <mat-label>Enter Details</mat-label>
                            <textarea type="text" matInput formControlName="userDetails"></textarea>
                            <mat-error>
                                <ng-container
                                    *ngIf="control['userDetails'].touched && control['userDetails'].hasError('required')">
                                    Details is required field!!! <br>
                                </ng-container>
                                <ng-container
                                    *ngIf="control['userDetails'].dirty && control['userDetails'].hasError('minlength')">
                                    Minimum length of Details should be
                                    {{control['userDetails'].errors?.['minlength'].requiredLength}}.
                                    Current length is {{control['userDetails'].errors?.['minlength'].actualLength}}.<br>
                                </ng-container>

                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <!-- address -->
                <div class="col-md-12">
                    <div class="control">
                        <mat-icon>location_on</mat-icon>
                        <mat-form-field>
                            <mat-label>Enter Address</mat-label>
                            <input type="text" matInput formControlName="userAddress">
                            <mat-error>
                                <ng-container
                                    *ngIf="control['userAddress'].touched && control['userAddress'].hasError('required')">
                                    Address is required field!!! <br>
                                </ng-container>
                                <ng-container
                                    *ngIf="control['userAddress'].dirty && control['userAddress'].hasError('minlength')">
                                    Minimum length of Address should be
                                    {{control['userAddress'].errors?.['minlength'].requiredLength}}.
                                    Current length is {{control['userAddress'].errors?.['minlength'].actualLength}}.<br>
                                </ng-container>

                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
            </div>
            <div class="d-flex justify-content-around align-items-center">
                <button type="submit" *ngIf="!isInEditMode" mat-raised-button color="primary">Add User</button>
                <button type="button" *ngIf="isInEditMode" mat-raised-button [disabled]="userRole==='buyer'"
                    (click)="updateUser()" color="primary">Update User</button>
                <button type="button" mat-raised-button (click)="onCancel()" color="warn">Cancel</button>

            </div>
        </form>
    </mat-card-content>
</mat-card>